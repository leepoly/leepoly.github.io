<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-touch-icon.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png?v=5.1.4">


  <link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg?v=5.1.4" color="#222">



  <meta name="msapplication-config" content="/images/browserconfig.xml" />



  <meta name="keywords" content="Hexo, Lyw" />










<meta property="og:type" content="website">
<meta property="og:title" content="Lyw">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Lyw">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lyw">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Lyw</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Lyw</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-game">
          <a href="/game/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-gamepad"></i> <br />
            
            game
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/06/27/port-forwarding-usage/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yiwei Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lyw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/27/port-forwarding-usage/" itemprop="url">SSH Port Forwarding 简介 (SSH Port Forwarding is All You Need)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-06-27T14:52:34+08:00">
                2021-06-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>SSH Port forwarding is a technique used to tunnel your network traffic from the local (remote) network to the remote (local) network. Although it has several limitations, SSH port forwarding is powerful, flexible and sufficient to facilitate your server/client workflow. In this blog I briefly introduce this technique and several scenarios I have used.</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/06/27/port-forwarding-usage/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    
	
	

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/05/28/lyric-sharing-04/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yiwei Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lyw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/05/28/lyric-sharing-04/" itemprop="url">lyric-sharing-04.md</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-05-28T20:03:37+08:00">
                2021-05-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote class="blockquote-center"><p><strong>失败者的飞翔</strong></p>
</blockquote>
<p><center>原唱：陈绮贞</center></p>
<p><center>填词：陈绮贞</center></p>
<p><center>发表时间 2009.01.22</center></p>
<blockquote>
<p>你知道吗 听你说话<br>我只需要 听你说话<br>在你的声音中 安全的让我害怕<br>这是一个 快乐的警告 警告我别想逃<br>这个特别的时刻 判断绝不会是你想要<br>你的温柔 包围而我 像个没人爱的傻瓜<br>你的影子巨大 像喧嚣的脏话<br>在一片欢乐的景象之中 我却觉得勉强<br>在离别的前夕 找不忧伤的台阶下</p>
</blockquote>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/05/28/lyric-sharing-04/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    
	
	

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/03/12/a-private-movie-theater-design/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yiwei Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lyw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/12/a-private-movie-theater-design/" itemprop="url">一起看电影的web应用 | A private movie theater design</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-03-12T23:44:15+08:00">
                2021-03-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>COVID-19 has greatly impacted the way of our lives. What’s more, I have been going through a very painful period of quarantine. In the state of being isolated, I am eager to watch a movie with my friends, to get myself involved. Unfortunately, I could not find a satisfying product. There is no other way except I made an online movie theater myself.</p>
<h2 id="Expected-features"><a href="#Expected-features" class="headerlink" title="Expected features"></a>Expected features</h2><ul>
<li>Coplay: Let me watch a movie with my friends</li>
<li>Rich resources: I like interesting and in-depth films</li>
<li>Broad platform support: It can be accessed from either laptops or computers, since my friends have different devices</li>
<li>Availability: It should provide a fluent movie stream from clients in both America and Asia.</li>
</ul>
<h2 id="Related-works"><a href="#Related-works" class="headerlink" title="Related works"></a>Related works</h2>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/03/12/a-private-movie-theater-design/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    
	
	

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/02/28/riscv-surprising-notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yiwei Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lyw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/02/28/riscv-surprising-notes/" itemprop="url">RISC-V的独到之处 (How is RISC-V different from what I know)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-02-28T11:13:42+08:00">
                2021-02-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>Due to my PhD program, this term I have to be the TA of an undergraduate course one more time. Fortunately since the course is started by my supervisor and the students I meet are all carefully selected as the most clever students, it gives me much freedom to try new architecture ideas and help me gain teaching skills significantly. This year is the second time since we opened this course, so we decided to switch the teaching instruction set architecture (ISA) from MIPS to RISC-V. Therefore, I have started to learn RISC-V from scratch recently. In this post I want to put up my thoughts of for what I am surprised by the popular RISC-V, as a role of MIPS learner for many years.</p>
<h3 id="Reference-books"><a href="#Reference-books" class="headerlink" title="Reference books"></a>Reference books</h3>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/02/28/riscv-surprising-notes/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    
	
	

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/01/22/rebase-cpp17-project-to-pincrt/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yiwei Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lyw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/01/22/rebase-cpp17-project-to-pincrt/" itemprop="url">代码回迁历程：从c++17到pincrt (Paradiams for rebasing recent c++ code to out-dated pincrt)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-01-22T22:34:09+08:00">
                2021-01-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>Recently I have finished some code refactoring, reverting a third-party project following c++17 standard to an out-dated pincrt fashion. More accurately, I was integrating the most recent NVM simulation work <a href="https://swanson.ucsd.edu/data/bib/pdfs/MICRO20-LensVans.pdf" target="_blank" rel="noopener">VANS</a> with <a href="https://github.com/s5z/zsim" target="_blank" rel="noopener">zsim</a>. During this code migration process, I have learned to handle many implementation issues related to C++ STL and would like to share it.</p>
<h3 id="Brief-Glossary"><a href="#Brief-Glossary" class="headerlink" title="Brief Glossary"></a>Brief Glossary</h3><ul>
<li><code>zsim</code>: a fast and accurate core simulator. The runtime is based on <code>pincrt</code>. I have been using zsim as my primary experiment tool but for simplicity it does not directly support any detailed DDR memory models.</li>
<li><code>VANS</code>: an Optane-oriented NVM memory simulator. It is claimed to be written in C++17 fashion and have the most accurate result against the actual Optane NVM hardware. This time I want to integrate it with zsim, supporting simulating app behaviors on a core+NVM system.</li>
<li><code>pincrt</code>: The basic C runtime specialized for a pintool like zsim, derived from stlport, now “maintained” by intel. It also contains several C++ STL support. Based on the official manual (only 11-page long) and my hands-on experience, pincrt only supports limited C++11 standards and no support for more recent standards. Pincrt does not support exceptions and RTTI (Run-time type information).</li>
</ul>
<h3 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h3>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/01/22/rebase-cpp17-project-to-pincrt/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    
	
	

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/01/02/owning-music-rights-all-by-yourself/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yiwei Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lyw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/01/02/owning-music-rights-all-by-yourself/" itemprop="url">打破国内音乐的版权藩篱 Owning rights to music playing all by yourself</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-01-02T21:46:29+08:00">
                2021-01-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>I have done with switching my audio player between multiple applications.</p>
<p>Generally the workflow of my listening to a new song always starts from hearing it from somewhere, then recursively searching it from one player to another. The copyrights of a commercial music was initially intended to protect the interests of composers and incentivize them for more and better works. However, they have developed on a mistaken road and now produced a barrier, prohibiting multiple organizations sharing. What’s worse, more and more exclusively paid music demobilizes people from hearing them, at least works for me. It is the software companies who finally benefit from this trend.</p>
<p>Therefore I have tried several approaches bypassing the conventional music playing and found the solution.</p>
<h3 id="Conventional-music-playing"><a href="#Conventional-music-playing" class="headerlink" title="Conventional music playing"></a>Conventional music playing</h3><p>I used to stream music from popular applications. They have their exclusive music repositories, plus the following additional features favored by myself:</p>
<ul>
<li>Multi-device support</li>
<li>Song recommendations</li>
<li>Notifications of recent songs (of the customized singers)</li>
<li>Cloud storage</li>
</ul>
<h3 id="Bypassing-music-playing"><a href="#Bypassing-music-playing" class="headerlink" title="Bypassing music playing"></a>Bypassing music playing</h3>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/01/02/owning-music-rights-all-by-yourself/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    
	
	

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/10/12/play-around-with-raspberry/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yiwei Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lyw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/10/12/play-around-with-raspberry/" itemprop="url">如何将你的树莓派变成强大的云办公设备 How to make your Raspberry Pi a powerful edge device to WFH</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-10-12T21:14:00+08:00">
                2020-10-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>As we know, Raspberry Pi is getting even more popular with its cheap cost and highly customized functions. Now the most powerful Raspberry Pi 4B model has 4GB memory and quad-A72 cores. This is even better than my first smartphone in 2015. As the coronavirus has deeply reformed our daily lives, it is time to buy a raspberry pi, to work from home. I have spent some time finding useful tools and writing scripts to help me study in the dorm conveniently and elegantly.</p>
<h3 id="Reasons-Why-Raspberry-4B"><a href="#Reasons-Why-Raspberry-4B" class="headerlink" title="Reasons Why Raspberry 4B"></a>Reasons Why Raspberry 4B</h3><ul>
<li>Its hardware is rather outstanding.</li>
<li>It supports two 4K monitors.</li>
<li>As Apple turns to using arm on their macbook, there will be much more available softwares in this ecosystem.</li>
</ul>
<h3 id="Before-Booting"><a href="#Before-Booting" class="headerlink" title="Before Booting"></a>Before Booting</h3>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/10/12/play-around-with-raspberry/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    
	
	

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/25/Build-zsim-nvmain/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yiwei Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lyw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/25/Build-zsim-nvmain/" itemprop="url">Build zsim-nvmain</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-25T21:02:22+08:00">
                2019-08-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>I have spent much time building nvmain-zsim (2nd times!), and here is what I did (common errors).</p>
<h4 id="What-is-zsim-nvmain"><a href="#What-is-zsim-nvmain" class="headerlink" title="What is zsim-nvmain?"></a>What is zsim-nvmain?</h4><p>ZSim is an emulator made by stanford, which is originally used to evaluate the implementation of ZCache. </p>
<p>NVMain is a set of interfaces based on ZSim or Gem5, which provides support on emulating Non-Volatile Memory. Now we can easily add a 3d stacked DRAM or PCM Main Memory to the system…</p>
<p>ZSim github repo: <a href="https://github.com/s5z/zsim" target="_blank" rel="noopener">https://github.com/s5z/zsim</a><br>NVMain github repo: <a href="https://github.com/AXLEproject/axle-zsim-nvmain" target="_blank" rel="noopener">https://github.com/AXLEproject/axle-zsim-nvmain</a></p>
<h4 id="Before-you-read…"><a href="#Before-you-read…" class="headerlink" title="Before you read…"></a>Before you read…</h4><ul>
<li><p>I finish my building mostly from this blog: <a href="https://blog.csdn.net/qqq_11101/article/details/78481377" target="_blank" rel="noopener">https://blog.csdn.net/qqq_11101/article/details/78481377</a></p>
</li>
<li><p>I built zsim-nvmain into a docker, avoiding most meaningless dependencies problems. I have pushed my docker image to hub: leepoly/zsim-nvmain</p>
</li>
</ul>
<h4 id="How-to-build-nvmain-zsim"><a href="#How-to-build-nvmain-zsim" class="headerlink" title="How to build nvmain-zsim"></a>How to build nvmain-zsim</h4><ol>
<li><p>download source code<br><code>git clone https://github.com/cyjseagull/SHMA</code></p>
</li>
<li><p>deal with depenencies<br>My environment:</p>
<ul>
<li>ubuntu 18.04 (linux kernel 4.4.0)</li>
<li><p>gcc, g++ 4.8.5</p>
<blockquote>
<p>How to deal with multiple gcc/g++ version?<br><code>update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8 10</code>, where 10 is a number indicating the priority<br>we should do the same to g++</p>
</blockquote>
</li>
<li><p>pin-2.13-61206-gcc.4.4.7-linux (which is embedded in SHMA project)</p>
</li>
<li>boost 1.59<br>if you have encountered “fatal error: bzlib.h: No such file or directory”, try <code>apt install libboost-all-dev libbz2-dev</code></li>
<li>libconfig 1.7.2</li>
<li>hdf5 1.10.5<br>most of those tools are installed in <code>/usr/local/</code> by default.</li>
</ul>
</li>
<li><p>configure env.sh<br>Now we should modify env.sh to assign where we install our dependencies. I recommend set a <code>BASEPATH</code> and use that indirect path.<br>Then <code>source env.sh</code> to export those parameters into environment</p>
</li>
<li><p>build nvmain-zsim<br><code>cd $BASEPATH</code><br><code>scons -j4</code></p>
</li>
</ol>
<ul>
<li><p>encounting “fatal error: src/memory_hierarchy.h: No such file or directory”<br>go to <code>build/opt/tlb/common_func.h</code>, change header into <code>&quot;#include &quot;memory_hierarchy.h&quot;</code></p>
</li>
<li><p>encounting “fatal error: src/nvmain_mem_ctrl.h: No such file or directory”<br>go to <code>build/opt/tlb/page_table_walker.h</code> and change the header in the same way</p>
</li>
<li><p>encounting “fatal error: glog/logging.h: No such file or directory”<br>try <code>apt-get install libgoogle-glog-dev</code></p>
</li>
<li><p>encounting “build/opt/version.h:1:4: error: stray ‘#’ in program”<br>change “echo -e” into “echo” in SConstruct</p>
</li>
<li><p>(docker-only) [H] Panic on build/opt/zsim_harness.cpp:292: Could not change personality to disable address space randomization!<br>try rerun docker with privileged mode<br><code>docker run -it --privileged CONTAINER_ID bash</code><br><code>echo 0 | tee /proc/sys/kernel/randomize_va_space</code></p>
</li>
<li><p>E:4.4 is not a supported linux release<br>insert at <code>pin_cmd.cpp:52</code></p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">args.push_back(<span class="string">"-injection"</span>);</span><br><span class="line">args.push_back(<span class="string">"child"</span>);</span><br><span class="line">args.push_back(<span class="string">"-ifeellucky"</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>build until you see <code>scons: done reading SConscript files.</code></p>
<ol start="5">
<li><p>Check installation<br><code>./bin/zsim config/shma-static.cfg</code><br><strong>congrats!</strong></p>
</li>
<li><p>A known problem<br>according to this issue: <a href="https://github.com/s5z/zsim/issues/154" target="_blank" rel="noopener">https://github.com/s5z/zsim/issues/154</a><br>zsim is not supported to run <code>ls</code>.</p>
</li>
</ol>
<p>If you have any question, feel free to comment here.</p>

          
        
      
    </div>
    
    
    

    

    

    
	
	

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/16/how-to-update-glib-without-sudo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yiwei Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lyw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/16/how-to-update-glib-without-sudo/" itemprop="url">how-to-update-glib-without-sudo</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-16T12:06:45+08:00">
                2018-11-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="如何解决glib-so-6-Not-Found问题（不用sudo提权）"><a href="#如何解决glib-so-6-Not-Found问题（不用sudo提权）" class="headerlink" title="如何解决glib.so.6 - Not Found问题（不用sudo提权）"></a>如何解决glib.so.6 - Not Found问题（不用sudo提权）</h4><p>最近在帮室友安装一个python包时，安装完后import出现类似<code>/usr/glib.so.6: version &#39;GLIB_2.14&#39; not found</code>的问题。</p>
<p>本文是对<a href="https://github.com/materialsproject/pymatgen/issues/1172的一个总结" target="_blank" rel="noopener">https://github.com/materialsproject/pymatgen/issues/1172的一个总结</a></p>
<p>出现原因：服务器上的glib库版本太旧，不能支持2.14版本，可以通过下列命令查看自己的glib版本：<code>strings /lib/libc.so.6 | grep GLIBC</code></p>
<p>解决方案：</p>
<ul>
<li><p>首先尝试卸载包后重新安装（基本无效）；</p>
</li>
<li><p>如果自己的用户在超级用户组中，或者直接有root权限，可以用<a href="http://www.lightofdawn.org/wiki/wiki.cgi/NewAppsOnOldGlibc中所说的weaken" target="_blank" rel="noopener">http://www.lightofdawn.org/wiki/wiki.cgi/NewAppsOnOldGlibc中所说的weaken</a> glib dependencies的方法，暴力的修改glib.so文件中，为其增加2.14相应的函数入口实现。这个方法理论上可行，但没有尝试过。</p>
</li>
<li><p>重新下载最新版glib并编译，安装在自己的用户目录下（不用提权），介绍安装方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/glibc_install; cd ~/glibc_install </span><br><span class="line"></span><br><span class="line">wget http://ftp.gnu.org/gnu/glibc/glibc-2.14.tar.gz</span><br><span class="line"></span><br><span class="line">tar zxvf glibc-2.14.tar.gz</span><br><span class="line"></span><br><span class="line">cd glibc-2.14</span><br><span class="line"></span><br><span class="line">mkdir build</span><br><span class="line"></span><br><span class="line">cd build</span><br><span class="line"></span><br><span class="line">../configure --prefix=/home/yourusername/glibc #此处直接安装到自己目录下，就不用特权了</span><br><span class="line"></span><br><span class="line">make -j4 #4是指线程数</span><br><span class="line"></span><br><span class="line">sudo make install</span><br><span class="line"></span><br><span class="line">export LD_LIBRARY_PATH=/home/yourusername/glibc/lib</span><br></pre></td></tr></table></figure>
<p>之后在python中成功import。</p>
<p>可以将最后一句放在<code>~/.bashrc</code>中，这样以后不用每次export了</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    
	
	

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/08/chisel-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yiwei Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lyw">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/08/chisel-note/" itemprop="url">Scala&Chisel学习笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-08T21:03:55+08:00">
                2018-11-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote class="blockquote-center"><p><strong>Scala&amp;Chisel学习笔记</strong></p>
</blockquote>
<p>注：本人学习Chisel和Scala的笔记</p>
<p>材料主要来源：<a href="https://github.com/freechipsproject/chisel-bootcamp" target="_blank" rel="noopener">https://github.com/freechipsproject/chisel-bootcamp</a></p>
<p>欢迎留言讨论</p>
<hr>
<ol>
<li><p>Interpolated string</p>
<p>println(s”wordwordword$var”)</p>
<p>printf(p”$io”)</p>
<p>s”wordwordword${max + max}”</p>
</li>
<li><p>seq操作</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> seq = <span class="type">Seq</span>(<span class="string">"a"</span>, <span class="number">1</span>, <span class="number">0.0</span>)</span><br><span class="line"></span><br><span class="line">seq.foreach &#123; x =&gt; &#123;</span><br><span class="line"></span><br><span class="line">   	...&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/11/08/chisel-note/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    
	
	

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="Yiwei Li" />
            
              <p class="site-author-name" itemprop="name">Yiwei Li</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">22</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="http://github.com/leepoly/" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-globe"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-globe"></i>
                我的儿子们
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://ppnuts.com/" title="帅气的lph" target="_blank">帅气的lph</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://lgd.gd/" title="帅气的lgd" target="_blank">帅气的lgd</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yiwei Li</span>

  
</div>


<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  访客数:<span id="busuanzi_value_site_uv"></span>
</span>
  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

</body>
</html>
